(function($){const defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0};$.fn.mauGallery=function(options){const settings=$.extend({},defaults,options);const tagsCollection=[];function createRowWrapper(e){e.children().first().hasClass("row")||e.append('<div class="gallery-items-row row"></div>')}function wrapItemInColumn(e,t){if(t.constructor===Number)e.wrap(`<div class='item-column mb-4 col-${Math.ceil(12/t)}'></div>`);else if(t.constructor===Object){var a="";t.xs&&(a+=` col-${Math.ceil(12/t.xs)}`),t.sm&&(a+=` col-sm-${Math.ceil(12/t.sm)}`),t.md&&(a+=` col-md-${Math.ceil(12/t.md)}`),t.lg&&(a+=` col-lg-${Math.ceil(12/t.lg)}`),t.xl&&(a+=` col-xl-${Math.ceil(12/t.xl)}`),e.wrap(`<div class='item-column mb-4${a}'></div>`)}else console.error(`Columns should be defined as numbers or objects. ${typeof t} is not supported.`)}function moveItemInRowWrapper(e){e.appendTo(".gallery-items-row")}function responsiveImageItem(e){e.prop("tagName")==="IMG"&&e.addClass("img-fluid")}function openLightBox(e,t){$(`#${t}`).find(".lightboxImage").attr("src",e.attr("src")),$(`#${t}`).modal("toggle")}function filterByTag(){if($(this).hasClass("active-tag"))return;$(".active.active-tag").removeClass("active active-tag"),$(this).addClass("active-tag active");const e=$(this).data("images-toggle");$(".gallery-item").each(function(){$(this).parents(".item-column").hide(),e==="all"?$(this).parents(".item-column").show(300):$(this).data("gallery-tag")===e&&$(this).parents(".item-column").show(300)})}function createLightBox(e,t,a){e.append(`<div class="modal fade" id="${t?t:"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            ${a?`<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>`:`<span style="display:none;" />`}
                            <img class="lightboxImage img-fluid" alt="Contenu de l'image affichÃ©e dans la modale au clique"/>
                            ${a?`<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>`:`<span style="display:none;" />`}
                        </div>
                    </div>
                </div>
            </div>`)}function showItemTags(e,t,a){let n='<li class="nav-item"><span class="nav-link active active-tag"  data-images-toggle="all">Tous</span></li>';$.each(a,function(e,a){n+=`<li class="nav-item active">
                <span class="nav-link"  data-images-toggle="${a}">${a}</span></li>`});const i=`<ul class="my-4 tags-bar nav nav-pills">${n}</ul>`;"bottom"===t?e.append(i):"top"===t?e.prepend(i):console.error(`Unknown tags position: ${t}`)}this.each(function(){const e=$(this);createRowWrapper(e),settings.lightBox&&createLightBox(e,settings.lightboxId,settings.navigation),e.children(".gallery-item").each(function(){responsiveImageItem($(this)),moveItemInRowWrapper($(this)),wrapItemInColumn($(this),settings.columns);const e=$(this).data("gallery-tag");settings.showTags&&void 0!==e&&tagsCollection.indexOf(e)===-1&&tagsCollection.push(e)}),settings.showTags&&showItemTags(e,settings.tagsPosition,tagsCollection),e.fadeIn(500)}),$(".gallery").on("click",".gallery-item",function(){settings.lightBox&&"IMG"===$(this).prop("tagName")&&openLightBox($(this),settings.lightboxId||"galleryLightbox")}),$(".gallery").on("click",".nav-link",filterByTag)}})(jQuery);
